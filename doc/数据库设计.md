# 数据库设计

## 用户表

用户表里存储系统中可登录的用户

```SQL
CREATE TABLE `user`
(
    `id` VARCHAR(255) PRIMARY KEY,
    `name` VARCHAR(255) NOT NULL,
    `password` VARCHAR(255) NOT NULL
);
```

## 人员表

记录系统中出现的各类人员，包括项目负责人、参与人等

```SQL
CREATE TABLE `employee`
(
    `id` VARCHAR(255) PRIMARY KEY,
    `name` VARCHAR(255) NOT NULL
);
```

## 项目表

项目表中存储各项目基本信息，以及当前项目阶段、是否延误等。
其中，负责人`leaderId`为`employee`表中主键，SQL 中不建立外键约束。

```SQL
CREATE TABLE `project`
(
    `id` VARCHAR(255) PRIMARY KEY,
    `name` VARCHAR(255) NOT NULL,
    `client` VARCHAR(255) NOT NULL,
    `leaderId` VARCHAR(255) NOT NULL,
    `status` VARCHAR(255) NOT NULL DEFAULT 0,
    `delayed` INT NOT NULL DEFAULT 0
);
```

## 项目状态

约定各种项目状态。
用户可在系统里进行动态配置。

```SQL
CREATE TABLE `project_status`
(
    `id` VARCHAR(255) PRIMARY KEY,
    `name` VARCHAR(255) NOT NULL
);
```

## 项目历程表

记录项目开展过程中的历史记录，包括修改时间、工作内容、备注等

```SQL
CREATE TABLE `project_log`
(
    `id` VARCHAR(255) PRIMARY KEY,
    `time` VARCHAR(255) NOT NULL,
    `content` VARCHAR(255) NOT NULL DEFAULT '',
    `remark` VARCHAR(255) NOT NULL DEFAULT ''
);
```

## 项目-参与人关系

记录项目与参与人之间的关联，项目负责人不再存储于此处

```SQL
CREATE TABLE `project_employee`
(
    `projectId` VARCHAR(255) NOT NULL,
    `employeeId` VARCHAR(255) NOT NULL,
    PRIMARY KEY (`projectId`, `employeeId`)
);
```
